# ===== Dify stack (.env example) =====

# Postgres
POSTGRES_DB=dify
POSTGRES_USER=dify
POSTGRES_PASSWORD=dify

# Optional: prefer a single DATABASE_URL over individual vars
# If password includes special chars (@ : / ? # & =), URL-encode them.
# Example:
# DATABASE_URL=postgresql+psycopg2://dify:pa%40ss%3Aword@postgres:5432/dify

# MinIO (S3 compatible)
MINIO_ACCESS_KEY=difyminio
MINIO_SECRET_KEY=difyminio

# Dify secret key (long random string)
SECRET_KEY=CHANGE_ME_TO_A_LONG_RANDOM_STRING

# Timezone
TZ=Asia/Tokyo

# Public URLs (when fronted by Cloudflare Tunnel / reverse proxy)
# Leave blank to use internal service URLs (http://dify-api:5001 / http://dify-web:3000)
API_URL=
CONSOLE_API_URL=
CONSOLE_WEB_URL=

# Cookie/security (recommended for HTTPS frontends)
CONSOLE_SESSION_COOKIE_SAMESITE=Lax
CONSOLE_CSRF_COOKIE_SAMESITE=Lax
CONSOLE_SESSION_COOKIE_SECURE=true
CONSOLE_CSRF_COOKIE_SECURE=true

# Vector store (default: Qdrant)
VECTOR_STORE=qdrant
# Qdrant
QDRANT_URL=http://qdrant:6333
QDRANT_API_KEY=
# Weaviate (use if VECTOR_STORE=weaviate)
WEAVIATE_ENDPOINT=http://weaviate:8080
WEAVIATE_API_KEY=

# Cloudflare Tunnel (optional)
CF_TUNNEL_TOKEN_DIFY=

# Shared key between API/Web and Plugin Daemon
SERVICE_API_KEY=CHANGE_ME_PLUGIN_KEY

# Plugin daemon: remote installing host (required by dify-plugin-daemon)
# Example: https://dify.isinxnisi.com
PLUGIN_REMOTE_INSTALLING_HOST=
PLUGIN_REMOTE_INSTALLING_PORT=
PLUGIN_REMOTE_INSTALLING_SCHEME=
